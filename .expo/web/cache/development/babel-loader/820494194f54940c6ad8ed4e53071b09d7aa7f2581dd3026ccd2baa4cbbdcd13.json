{"ast":null,"code":"var _jsxFileName = \"/project/sandbox/src/components/ChatItem.tsx\";\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Colors } from \"../constants/Colors\";\nimport { formatChatTime, truncateText, getMessageStatusIcon } from \"../utils/helpers\";\nimport { currentUser } from \"../data/mockData\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatItem({\n  chat,\n  chatName,\n  avatar,\n  otherUser,\n  onPress\n}) {\n  const lastMessage = chat.lastMessage;\n  const isOnline = otherUser?.online || false;\n  const getLastMessageText = () => {\n    if (!lastMessage) return \"No messages yet\";\n    const prefix = lastMessage.senderId === currentUser.id ? \"You: \" : \"\";\n    return prefix + truncateText(lastMessage.text, 30);\n  };\n  const getLastMessageTime = () => {\n    if (!lastMessage) return \"\";\n    return formatChatTime(lastMessage.timestamp);\n  };\n  return _jsxDEV(TouchableOpacity, {\n    style: styles.container,\n    onPress: onPress,\n    children: [_jsxDEV(View, {\n      style: styles.avatarContainer,\n      children: [_jsxDEV(Text, {\n        style: styles.avatar,\n        children: avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), isOnline && chat.type === \"individual\" && _jsxDEV(View, {\n        style: styles.onlineIndicator\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.contentContainer,\n      children: [_jsxDEV(View, {\n        style: styles.headerRow,\n        children: [_jsxDEV(Text, {\n          style: styles.name,\n          numberOfLines: 1,\n          children: chatName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.timeContainer,\n          children: [_jsxDEV(Text, {\n            style: styles.time,\n            children: getLastMessageTime()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), lastMessage && lastMessage.senderId === currentUser.id && _jsxDEV(Text, {\n            style: [styles.statusIcon, lastMessage.status === \"read\" && styles.readStatus],\n            children: getMessageStatusIcon(lastMessage.status)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.messageRow,\n        children: [_jsxDEV(Text, {\n          style: styles.lastMessage,\n          numberOfLines: 1,\n          children: getLastMessageText()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), chat.unreadCount > 0 && _jsxDEV(View, {\n          style: styles.unreadBadge,\n          children: _jsxDEV(Text, {\n            style: styles.unreadText,\n            children: chat.unreadCount > 99 ? \"99+\" : chat.unreadCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    backgroundColor: Colors.white,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.gray[100]\n  },\n  avatarContainer: {\n    position: \"relative\",\n    marginRight: 12\n  },\n  avatar: {\n    fontSize: 40,\n    textAlign: \"center\"\n  },\n  onlineIndicator: {\n    position: \"absolute\",\n    bottom: 2,\n    right: 2,\n    width: 12,\n    height: 12,\n    backgroundColor: Colors.status.online,\n    borderRadius: 6,\n    borderWidth: 2,\n    borderColor: Colors.white\n  },\n  contentContainer: {\n    flex: 1\n  },\n  headerRow: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: 4\n  },\n  name: {\n    fontSize: 16,\n    fontWeight: \"600\",\n    color: Colors.text.primary,\n    flex: 1,\n    marginRight: 8\n  },\n  timeContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  time: {\n    fontSize: 12,\n    color: Colors.text.light\n  },\n  statusIcon: {\n    fontSize: 12,\n    color: Colors.text.light,\n    marginLeft: 4\n  },\n  readStatus: {\n    color: Colors.secondary\n  },\n  messageRow: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  lastMessage: {\n    fontSize: 14,\n    color: Colors.text.secondary,\n    flex: 1,\n    marginRight: 8\n  },\n  unreadBadge: {\n    backgroundColor: Colors.secondary,\n    borderRadius: 10,\n    paddingHorizontal: 6,\n    paddingVertical: 2,\n    minWidth: 20,\n    alignItems: \"center\"\n  },\n  unreadText: {\n    fontSize: 12,\n    fontWeight: \"bold\",\n    color: Colors.white\n  }\n});","map":{"version":3,"names":["React","View","Text","TouchableOpacity","StyleSheet","Colors","formatChatTime","truncateText","getMessageStatusIcon","currentUser","jsxDEV","_jsxDEV","ChatItem","chat","chatName","avatar","otherUser","onPress","lastMessage","isOnline","online","getLastMessageText","prefix","senderId","id","text","getLastMessageTime","timestamp","style","styles","container","children","avatarContainer","fileName","_jsxFileName","lineNumber","columnNumber","type","onlineIndicator","contentContainer","headerRow","name","numberOfLines","timeContainer","time","statusIcon","status","readStatus","messageRow","unreadCount","unreadBadge","unreadText","create","flexDirection","alignItems","paddingHorizontal","paddingVertical","backgroundColor","white","borderBottomWidth","borderBottomColor","gray","position","marginRight","fontSize","textAlign","bottom","right","width","height","borderRadius","borderWidth","borderColor","flex","justifyContent","marginBottom","fontWeight","color","primary","light","marginLeft","secondary","minWidth"],"sources":["/project/sandbox/src/components/ChatItem.tsx"],"sourcesContent":["import React from \"react\";\nimport { View, Text, TouchableOpacity, StyleSheet } from \"react-native\";\nimport { Ionicons } from \"@expo/vector-icons\";\n\nimport { Chat, User } from \"../types\";\nimport { Colors } from \"../constants/Colors\";\nimport {\n  formatChatTime,\n  truncateText,\n  getMessageStatusIcon,\n} from \"../utils/helpers\";\nimport { currentUser } from \"../data/mockData\";\n\ninterface ChatItemProps {\n  chat: Chat;\n  chatName: string;\n  avatar: string;\n  otherUser?: User;\n  onPress: () => void;\n}\n\nexport default function ChatItem({\n  chat,\n  chatName,\n  avatar,\n  otherUser,\n  onPress,\n}: ChatItemProps) {\n  const lastMessage = chat.lastMessage;\n  const isOnline = otherUser?.online || false;\n\n  const getLastMessageText = (): string => {\n    if (!lastMessage) return \"No messages yet\";\n\n    const prefix = lastMessage.senderId === currentUser.id ? \"You: \" : \"\";\n    return prefix + truncateText(lastMessage.text, 30);\n  };\n\n  const getLastMessageTime = (): string => {\n    if (!lastMessage) return \"\";\n    return formatChatTime(lastMessage.timestamp);\n  };\n\n  return (\n    <TouchableOpacity style={styles.container} onPress={onPress}>\n      <View style={styles.avatarContainer}>\n        <Text style={styles.avatar}>{avatar}</Text>\n        {isOnline && chat.type === \"individual\" && (\n          <View style={styles.onlineIndicator} />\n        )}\n      </View>\n\n      <View style={styles.contentContainer}>\n        <View style={styles.headerRow}>\n          <Text style={styles.name} numberOfLines={1}>\n            {chatName}\n          </Text>\n          <View style={styles.timeContainer}>\n            <Text style={styles.time}>{getLastMessageTime()}</Text>\n            {lastMessage && lastMessage.senderId === currentUser.id && (\n              <Text\n                style={[\n                  styles.statusIcon,\n                  lastMessage.status === \"read\" && styles.readStatus,\n                ]}\n              >\n                {getMessageStatusIcon(lastMessage.status)}\n              </Text>\n            )}\n          </View>\n        </View>\n\n        <View style={styles.messageRow}>\n          <Text style={styles.lastMessage} numberOfLines={1}>\n            {getLastMessageText()}\n          </Text>\n          {chat.unreadCount > 0 && (\n            <View style={styles.unreadBadge}>\n              <Text style={styles.unreadText}>\n                {chat.unreadCount > 99 ? \"99+\" : chat.unreadCount}\n              </Text>\n            </View>\n          )}\n        </View>\n      </View>\n    </TouchableOpacity>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    backgroundColor: Colors.white,\n    borderBottomWidth: 1,\n    borderBottomColor: Colors.gray[100],\n  },\n  avatarContainer: {\n    position: \"relative\",\n    marginRight: 12,\n  },\n  avatar: {\n    fontSize: 40,\n    textAlign: \"center\",\n  },\n  onlineIndicator: {\n    position: \"absolute\",\n    bottom: 2,\n    right: 2,\n    width: 12,\n    height: 12,\n    backgroundColor: Colors.status.online,\n    borderRadius: 6,\n    borderWidth: 2,\n    borderColor: Colors.white,\n  },\n  contentContainer: {\n    flex: 1,\n  },\n  headerRow: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: 4,\n  },\n  name: {\n    fontSize: 16,\n    fontWeight: \"600\",\n    color: Colors.text.primary,\n    flex: 1,\n    marginRight: 8,\n  },\n  timeContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  time: {\n    fontSize: 12,\n    color: Colors.text.light,\n  },\n  statusIcon: {\n    fontSize: 12,\n    color: Colors.text.light,\n    marginLeft: 4,\n  },\n  readStatus: {\n    color: Colors.secondary,\n  },\n  messageRow: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  lastMessage: {\n    fontSize: 14,\n    color: Colors.text.secondary,\n    flex: 1,\n    marginRight: 8,\n  },\n  unreadBadge: {\n    backgroundColor: Colors.secondary,\n    borderRadius: 10,\n    paddingHorizontal: 6,\n    paddingVertical: 2,\n    minWidth: 20,\n    alignItems: \"center\",\n  },\n  unreadText: {\n    fontSize: 12,\n    fontWeight: \"bold\",\n    color: Colors.white,\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}